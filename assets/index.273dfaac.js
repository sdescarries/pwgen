var P=Object.defineProperty,A=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var v=(e,t,r)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))M.call(t,r)&&v(e,r,t[r]);if(S)for(var r of S(t))$.call(t,r)&&v(e,r,t[r]);return e},h=(e,t)=>A(e,F(t));import{r as i,R as a,a as _}from"./vendor.df994e90.js";function Pe(){import("data:text/javascript,")}const D=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const o of c.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(s){if(s.ep)return;s.ep=!0;const c=r(s);fetch(s.href,c)}};D();const T={["09"]:"Number",AZ:"Upper Case",SM:"Symbol"},U={["09"]:"9",AZ:"Z",SM:"#"},x="abcdefghijklmnopqrstuvwxyz",J="ABCDEFGHIJKLMNOPQRSTUVWXYZ",V="0123456789",W="=+-*@$%!&?,.:;^#(){}[]|",Z={["09"]:V,AZ:J,SM:W,az:x},q=([e,t])=>t?Z[e]:"",O=(...e)=>Array.from(new Set(e.flat().join("")));function j({length:e,charset:t,random:r}){let n="",s=-1;for(let c=0;c<e;++c){let o;do o=r.pop();while(o===s);s=o,n+=t[o]}return n}class H{constructor(t){this.array=new Uint32Array(1024),this.index=1024,this.range=t}pop(){return this.index>=1024&&(crypto.getRandomValues(this.array),this.index=0),this.array[this.index++]%this.range}}function B(e,...t){if(e===0)return()=>Promise.resolve("");if(e<4)throw new Error(`length too short ${e}`);const r=O(...t);if(r.length<1)throw new Error("empty charset");if((crypto==null?void 0:crypto.getRandomValues)==null)throw new Error("missing crypto facility");const n=new H(r.length);return()=>Promise.resolve({length:e,charset:r,random:n}).then(j)}function y(e){const t=i.exports.useRef({}),r=i.exports.useCallback(n=>{clearTimeout(t.current.timeout),t.current.timeout=setTimeout(n,e)},[e]);return i.exports.useEffect(()=>()=>clearTimeout(t.current.timeout),[e]),r}const G=(e,t)=>{var r,n;return{charset:l(l({},e==null?void 0:e.charset),t==null?void 0:t.charset),length:(n=(r=t==null?void 0:t.length)!=null?r:e==null?void 0:e.length)!=null?n:8}},K=(e,t)=>{const r=JSON.stringify(e),n=JSON.stringify(t);return r===n};function Q({length:e,charset:t}){const r=Object.entries(t).map(q);return B(e,x,...r)}function X(){const e=i.exports.useRef({charset:{},length:0}),[t,r]=i.exports.useState(e.current),n=y(200),s=Q(t),c=o=>{e.current=G(e.current,o),n(()=>{K(t,e.current)||r(e.current)})};return h(l({},t),{generator:s,update:c})}const R=e=>`pwgen-charset-${e}`;function Y(e){var t;try{const r=(t=localStorage.getItem(R(e)))!=null?t:"false";return JSON.parse(r)}catch({message:r}){return console.warn(r),!1}}const ee=(e,t)=>Promise.resolve().then(()=>R(e)).then(r=>localStorage.setItem(r,JSON.stringify(t))).catch(()=>{});function te({charset:e,update:t}){const[r,n]=i.exports.useState(()=>Y(e));i.exports.useEffect(()=>t({[e]:r}),[]);const s=o=>{t({[e]:o}),n(o),ee(e,o)};return[r,()=>s(!r)]}function re({id:e,charset:t,checked:r}){const n=T[t],s=U[t],c=`${r?"disable":"enable"} ${n} characters`.toLocaleLowerCase();return a.createElement("label",{className:"Frame Flame",htmlFor:e,title:c},a.createElement("div",{className:"Large"},a.createElement("label",{className:"toggleWrapper",htmlFor:e},a.createElement("div",{className:"toggle"})),a.createElement("p",{className:"label"},n)),a.createElement("div",{className:"Small"},a.createElement("p",{className:"label"},s)))}function p(e){const[t,r]=te(e),n=`dipSwitch-${e.charset}`;return a.createElement("div",{className:"DipSwitch","data-testid":n},a.createElement("input",{checked:t,className:"checkbox",id:n,onChange:()=>r(!t),type:"checkbox"}),a.createElement(re,{id:n,charset:e.charset,checked:t}))}const I=e=>{var t,r;return((r=(t=e[e.length-1])==null?void 0:t.id)!=null?r:-1)+1},ne=(e,{length:t,cols:r,rows:n,shred:s})=>{const c=r.current*n.current;if(e.length>c)return e.slice(0,c);let o=I(e);for(e=[...e];e.length<c;)e.push({id:o++,length:t,shred:s,value:""});return e},se=e=>t=>{const{cols:r,full:n,index:s,length:c,rows:o,shred:u,slice:f}=e;if(n)t=[{id:I(t),length:c,shred:u,value:""}],s.current=0;else if(f){const d=Math.ceil(o.current/3)*r.current;t=t.slice(d),s.current=Math.max(0,s.current-d)}return ne(t,e)},ce=e=>([{isIntersecting:t}])=>{t&&e()};function oe(e,t){if(!e.current){console.warn("useInfiniScroll IntersectionObserver not ready");return}const r=ce(t),n=new IntersectionObserver(r);return n.observe(e.current),()=>n.disconnect()}function ae(e,t){var n;const r=(n=e.current)==null?void 0:n.getBoundingClientRect();!r||r.bottom>window.innerHeight||r.right>window.innerWidth||t()}function ie(e,t){const r=setInterval(()=>ae(e,t),200);return()=>clearInterval(r)}function le(e){const t=i.exports.useRef(null),r=y(100),n=i.exports.useCallback(()=>r(()=>e({slice:!0})),[r,e]);return i.exports.useEffect(()=>oe(t,n),[n]),i.exports.useEffect(()=>ie(t,n),[n]),[t]}const ue=()=>({cw:0,ch:0,iw:0,ih:0}),fe=(e,t,r)=>{const{grid:n,standard:s}=e;for(const{contentRect:c,target:o}of r)o===s.current&&(t.iw=c.width+8,t.ih=c.height+8),o===n.current&&(t.cw=c.width,t.ch=c.height)};function de(e){const t=ue();return n=>{fe(e,t,n);let s=!1;if(t.iw&&t.ih){const c=Math.floor(t.ch/t.ih)*2,o=Math.floor(t.cw/t.iw);e.rows.current!=c&&(e.rows.current=c,s=!0),e.cols.current!=o&&(e.cols.current=o,s=!0)}s&&e.refresh()}}function he(e,t,r){const n=i.exports.useRef(null),s=i.exports.useRef(null);return i.exports.useEffect(()=>{if(!n.current||!s.current){console.warn("useInfiniScroll ResizeObserver not ready");return}const c=de({cols:t,rows:r,grid:n,standard:s,refresh:e}),o=new ResizeObserver(c);return o.observe(n.current),o.observe(s.current),()=>o.disconnect()},[t,r,e]),[n,s]}const me=()=>new Promise(e=>requestAnimationFrame(e)),ge=(e,t)=>r=>{const n=r[e.current];if(!n)return r;const s=[...r];return s[e.current]=h(l({},n),{value:t}),e.current++,s},pe=e=>t=>{const r=t[e];if(!r)return t;const n=[...t];return n[e]=h(l({},r),{value:""}),n};function we({generator:e,length:t}){const[r,n]=i.exports.useState([]),s=i.exports.useRef(0),c=i.exports.useRef(0),o=i.exports.useRef(0),[u,f]=i.exports.useState({done:!0}),d=i.exports.useCallback(m=>f(g=>h(l(l({},g),m),{done:!1})),[]),[L]=le(d),[C,k]=he(d,s,c);i.exports.useEffect(()=>d({full:!0}),[e,t,d]);const w=i.exports.useCallback(m=>n(pe(m)),[]);return i.exports.useEffect(()=>{u.done||!t||(n(se(h(l({},u),{cols:s,rows:c,index:o,length:t,shred:w}))),f({done:!0}))},[t,u,w]),i.exports.useEffect(()=>{if(!t)return;let m=!0;return Promise.resolve().then(async()=>{const g=c.current*s.current;for(;m&&o.current<g;){const[z]=await Promise.all([e(),me()]);n(ge(o,z))}}).catch(console.warn),()=>{m=!1}},[e,t,u]),{grid:C,list:r,loader:L,standard:k}}function b(e){const{id:t,index:r,length:n,shred:s,value:c=""}=e,o=i.exports.useCallback(()=>{c&&navigator.clipboard.writeText(c).then(()=>s(r)).catch(console.warn)},[r,s,c]),u=c.padEnd(n,"*"),f=["Password"];return c&&f.push("Ready"),a.createElement("button",{className:f.join(" "),disabled:!c,id:`${t}`,onClick:o},u)}function Se(e){const{grid:t,list:r,loader:n,standard:s}=we(e),c=(o,u)=>a.createElement(b,h(l({key:o.id},o),{index:u}));return a.createElement("section",{className:"InfiniScroll",ref:t},a.createElement("div",{className:"Standard",ref:s},a.createElement(b,h(l({id:-1},e),{index:-1,shred:()=>{}}))),a.createElement("div",{className:"Grid"},r.map(c),a.createElement("nav",{ref:n})))}const N="pwgen-length";function ve(){var e;try{const t=(e=localStorage.getItem(N))!=null?e:"8";return JSON.parse(t)}catch({message:t}){return console.warn(t),8}}const be=e=>Promise.resolve().then(()=>localStorage.setItem(N,JSON.stringify(e))).catch(()=>{}),Ee={8:12,12:16,16:24,24:32,32:8};function xe({update:e}){const[t,r]=i.exports.useState(ve);i.exports.useEffect(()=>e(t),[]);const n=c=>{e(c),r(c),be(c)};return[t,()=>{var c;return n((c=Ee[t])!=null?c:8)}]}function ye(e){const[t,r]=xe(e),n="Length",s="change the length of the password";return a.createElement("button",{className:"Frame Flame Length","data-testid":n,onClick:()=>r(),type:"submit",title:s},t)}function Re({update:e}){const t=n=>e({charset:n}),r=n=>e({length:n});return a.createElement("div",{className:"Controls"},a.createElement(ye,{update:r}),a.createElement(p,{charset:"AZ",update:t}),a.createElement(p,{charset:"09",update:t}),a.createElement(p,{charset:"SM",update:t}))}function Ie(){const e=X();return a.createElement("div",{className:"App"},a.createElement("main",null,a.createElement(Se,l({},e))),a.createElement("header",null,a.createElement(Re,l({},e))))}const Ne="modulepreload",E={},Le="/pwgen/",Ce=function(t,r){return!r||r.length===0?t():Promise.all(r.map(n=>{if(n=`${Le}${n}`,n in E)return;E[n]=!0;const s=n.endsWith(".css"),c=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${c}`))return;const o=document.createElement("link");if(o.rel=s?"stylesheet":Ne,s||(o.as="script",o.crossOrigin=""),o.href=n,document.head.appendChild(o),s)return new Promise((u,f)=>{o.addEventListener("load",u),o.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())};function ke(e){e instanceof Function&&Ce(()=>import("./web-vitals.a2d693e8.js"),[]).then(({getCLS:t,getFID:r,getFCP:n,getLCP:s,getTTFB:c})=>{t(e),r(e),n(e),s(e),c(e)}).catch(({stack:t})=>console.warn(t))}_.render(a.createElement(Ie,null),document.getElementById("root"));ke();export{Pe as __vite_legacy_guard};
//# sourceMappingURL=index.273dfaac.js.map
