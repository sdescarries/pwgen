var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,l=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&c(e,r,t[r]);if(n)for(var r of n(t))s.call(t,r)&&c(e,r,t[r]);return e},a=(e,n)=>t(e,r(n));export function __vite_legacy_guard(){import("data:text/javascript,")}import{p as i,r as u,R as d,a as m}from"./vendor.1f968912.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const h={"09":"Number",AZ:"Upper Case",SM:"Symbol"},f={"09":"9",AZ:"Z",SM:"#"},p={"09":"0123456789",AZ:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",SM:"=+-*@$%!&?,.:;^#(){}[]|",az:"abcdefghijklmnopqrstuvwxyz"},g=([e,t])=>t?p[e]:"",v=i(1),E=e=>new Promise((t=>setTimeout(t,e)));function y({generator:e,seed:t}){const r=function({generator:e,seed:t}){const[r,n]=u.exports.useState("");return u.exports.useEffect((()=>{if(null==e)return;let t=!0;const r=e=>{t&&n(e)};return n(""),v((()=>Promise.resolve(10).then(E).then(e).then(r))).catch(console.warn),()=>{t=!1,v.clearQueue()}}),[e,t]),r}({generator:e,seed:t}),n=r?" Ready":"";return d.createElement("p",{className:`Password${n}`,id:`${t}`},r)}function w({length:e,charset:t,random:r}){let n="",o=-1;for(let s=0;s<e;++s){let e;do{e=r.pop()}while(e===o);o=e,n+=t[e]}return n}class b{constructor(e){this.array=new Uint32Array(1024),this.index=1024,this.range=e}pop(){return this.index>=1024&&(crypto.getRandomValues(this.array),this.index=0),this.array[this.index++]%this.range}}function S(e,...t){if(0===e)return()=>Promise.resolve("");if(e<4)throw new Error(`length too short ${e}`);const r=((...e)=>Array.from(new Set(e.flat().join(""))))(...t);if(r.length<1)throw new Error("empty charset");if(null==(null==crypto?void 0:crypto.getRandomValues))throw new Error("missing crypto facility");const n=new b(r.length);return()=>Promise.resolve({length:e,charset:r,random:n}).then(w)}const x=i(1);function N(){const e=u.exports.useRef({charset:{},length:0}),[t,r]=u.exports.useState(e.current),n=function(e){const t=u.exports.useRef({}),r=u.exports.useCallback((r=>{clearTimeout(t.current.timeout),t.current.timeout=setTimeout(r,e)}),[e]);return u.exports.useEffect((()=>()=>clearTimeout(t.current.timeout)),[e]),r}(200),o=function({length:e,charset:t}){return S(e,"abcdefghijklmnopqrstuvwxyz",...Object.entries(t).map(g))}(t);return console.log("generator refreshed"),{generator:e=>{const r={live:!0},n={id:e,ready:!1,value:"".padEnd(null==t?void 0:t.length,"_"),cancel:()=>{r.live=!1,delete n.cancel,r.resolve&&r.resolve(),null!=r.timeout&&(clearTimeout(r.timeout),delete r.timeout)}};return n.promise=x((()=>new Promise((e=>{r.resolve=e,r.timeout=setTimeout(e,10)})))).then((()=>r.live?o():Promise.resolve(n.value))).then((e=>r.live?(n.value=e,n.ready=!0,delete n.promise,delete n.cancel,e):n.value)),n},options:t,update:o=>{var s,c,a,i;e.current=(s=e.current,c=o,{charset:l(l({},null==s?void 0:s.charset),null==c?void 0:c.charset),length:null!=(i=null!=(a=null==c?void 0:c.length)?a:null==s?void 0:s.length)?i:8}),console.log(`pending options\n${JSON.stringify(e.current,null,2)}`),n((()=>{var n,o;n=t,o=e.current,JSON.stringify(n)!==JSON.stringify(o)&&(console.log(`commit\n${JSON.stringify(e.current,null,2)}`),r(e.current))}))}}}const O=e=>`pwgen-charset-${e}`;function P({charset:e,update:t}){const[r,n]=u.exports.useState((()=>function(e){var t;try{const r=null!=(t=localStorage.getItem(O(e)))?t:"false";return JSON.parse(r)}catch({message:r}){return console.warn(r),!1}}(e)));u.exports.useEffect((()=>t({[e]:r})),[]);const o=r=>{t({[e]:r}),n(r),((e,t)=>{Promise.resolve().then((()=>O(e))).then((e=>localStorage.setItem(e,JSON.stringify(t)))).catch((()=>{}))})(e,r)};return[r,()=>o(!r)]}function k({id:e,charset:t,checked:r}){const n=h[t],o=f[t],s=`${r?"disable":"enable"} ${n} characters`.toLocaleLowerCase();return d.createElement("label",{className:"Frame Flame",htmlFor:e,title:s},d.createElement("div",{className:"Large"},d.createElement("label",{className:"toggleWrapper",htmlFor:e},d.createElement("div",{className:"toggle"})),d.createElement("p",{className:"label"},n)),d.createElement("div",{className:"Small"},d.createElement("p",{className:"label"},o)))}function I(e){const[t,r]=P(e),n=`dipSwitch-${e.charset}`;return d.createElement("div",{className:"DipSwitch","data-testid":n},d.createElement("input",{checked:t,className:"checkbox",id:n,onChange:()=>r(!t),type:"checkbox"}),d.createElement(k,{id:n,charset:e.charset,checked:t}))}const L=e=>{var t,r;return(null!=(r=null==(t=e[e.length-1])?void 0:t.id)?r:-1)+1},R=({full:e,size:t,slice:r,generator:n})=>o=>{if(e){const e=L(o);o.forEach((e=>{var t;return null==(t=e.cancel)?void 0:t.call(e)})),o=[n(e)]}else if(r){const e=Math.ceil(2*t/3);o.slice(0,e).forEach((e=>{var t;return null==(t=e.cancel)?void 0:t.call(e)})),o=o.slice(o.length-e)}else if(o.length>=t)return o;return((e,{generator:t,size:r})=>{if(e.length>r)return console.log("reuse list"),e;e=[...e];let n=L(e);for(console.log("fill list for  "+(r-e.length));e.length<r;)e.push(t(n++));return e})(o,{generator:n,size:t})};function C(e,t){const r=u.exports.useRef(null),n=u.exports.useRef(null);return u.exports.useEffect((()=>{if(!r.current||!n.current)return void console.warn("useInfiniScroll ResizeObserver not ready");const o=function({grid:e,refresh:t,size:r,standard:n}){const o={cw:0,ch:0,iw:0,ih:0};return s=>{for(const{contentRect:t,target:r}of s)r===n.current&&(o.iw=t.width+8,o.ih=t.height+8),r===e.current&&(o.cw=t.width,o.ch=t.height);if(o.iw&&o.ih){const e=Math.floor(o.ch/o.ih),n=Math.floor(o.cw/o.iw),s=2*Math.floor(e*n);s>0&&r.current<=s&&t(),r.current=s}}}({grid:r,refresh:e,size:t,standard:n}),s=new ResizeObserver(o);return s.observe(r.current),s.observe(n.current),()=>s.disconnect()}),[e,t]),[r,n]}function $(e){const[t,r]=u.exports.useState([]),n=u.exports.useRef(0),[o,s]=u.exports.useState({done:!0}),c=u.exports.useCallback((e=>s((t=>a(l(l({},t),e),{done:!1})))),[]),[i]=function(e){const t=u.exports.useRef(null);return u.exports.useEffect((()=>{if(!t.current)return void console.warn("useInfiniScroll IntersectionObserver not ready");const r=new IntersectionObserver((([{isIntersecting:t}])=>{t&&e({slice:!0})}));return r.observe(t.current),()=>r.disconnect()}),[e]),[t]}(c),[d,m]=C(c,n);return u.exports.useEffect((()=>c({full:!0})),[e,c]),u.exports.useEffect((()=>{if(o.done)return;const t=setTimeout((()=>{s({done:!0}),r(R(a(l({},o),{size:n.current,generator:e})))}),500);return()=>clearTimeout(t)}),[e,o]),{grid:d,list:t,loader:i,standard:m}}function j({id:e,value:t,promise:r,cancel:n}){const[o,s]=u.exports.useState(t);return u.exports.useEffect((()=>(r&&r.then((e=>s(e.padEnd(length,"*")))).catch(console.warn),n)),[r,n]),d.createElement("button",{className:"Password",id:`${e}`},o)}function T({generator:e,options:{length:t}}){const{grid:r,list:n,loader:o,standard:s}=$(e),c=u.exports.useCallback((e=>d.createElement(j,l(l({key:e.id},e),{length:t}))),[t]),a=u.exports.useMemo((()=>d.createElement("div",{className:"Standard",ref:s},d.createElement(j,l({},e(-1))))),[e,s]);return d.createElement("section",{className:"InfiniScroll",ref:r},a,d.createElement("div",{className:"Grid"},n.map(c),d.createElement("nav",{ref:o})))}function z(){var e;try{const t=null!=(e=localStorage.getItem("pwgen-length"))?e:"8";return JSON.parse(t)}catch({message:t}){return console.warn(t),8}}const F={8:12,12:16,16:24,24:32,32:8};function M({update:e}){const[t,r]=u.exports.useState(z);u.exports.useEffect((()=>e(t)),[]);const n=t=>{var n;e(t),r(t),n=t,Promise.resolve().then((()=>localStorage.setItem("pwgen-length",JSON.stringify(n)))).catch((()=>{}))};return[t,()=>{var e;return n(null!=(e=F[t])?e:8)}]}function A(e){const[t,r]=M(e);return d.createElement("button",{className:"Frame Flame Length","data-testid":"Length",onClick:()=>r(),type:"submit",title:"change the length of the password"},t)}function _({update:e}){const t=t=>e({charset:t});return d.createElement("div",{className:"Controls"},d.createElement(A,{update:t=>e({length:t})}),d.createElement(I,{charset:"AZ",update:t}),d.createElement(I,{charset:"09",update:t}),d.createElement(I,{charset:"SM",update:t}))}function J(){const e=N();return d.createElement("div",{className:"App"},d.createElement("main",null,d.createElement(T,a(l({},e),{Component:y}))),d.createElement("header",null,d.createElement(_,l({},e))))}const Z={};var D,q,V;m.render(d.createElement(J,null),document.getElementById("root")),D instanceof Function&&(q=()=>import("./web-vitals.8eea515e.js"),V=[],V&&0!==V.length?Promise.all(V.map((e=>{if((e=`/pwgen/${e}`)in Z)return;Z[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((e,t)=>{n.addEventListener("load",e),n.addEventListener("error",t)})):void 0}))).then((()=>q())):q()).then((({getCLS:e,getFID:t,getFCP:r,getLCP:n,getTTFB:o})=>{e(D),t(D),r(D),n(D),o(D)})).catch((({stack:e})=>console.warn(e)));
